<!DOCTYPE html>
<html lang="en">

<head>
    <title>Bootstrap Example</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"> -->
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js" crossorigin="anonymous"></script>

    <style>
        /* Remove the navbar's default margin-bottom and rounded borders */
        .navbar {
            margin-bottom: 0;
            border-radius: 0;
        }

        /* Set height of the grid so .sidenav can be 100% (adjust as needed) */
        .row.content {
            height: 450px
        }

        /* Set gray background color and 100% height */
        .sidenav {
            padding-top: 20px;
            background-color: #f1f1f1;
            height: 100%;
        }

        /* Set black background color, white text and some padding */
        footer {
            background-color: #555;
            color: white;
            padding: 15px;
        }

        /* On small screens, set height to 'auto' for sidenav and grid */
        @media screen and (max-width: 767px) {
            .sidenav {
                height: auto;
                padding: 15px;
            }

            .row.content {
                height: auto;
            }
        }
    </style>
</head>

<body>

    <nav class="navbar navbar-inverse">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#">Logo</a>
            </div>
            <div class="collapse navbar-collapse" id="myNavbar">
                <ul class="nav navbar-nav">
                    <li><a href="#">DegenSwap</a></li>
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <li><a href="#"><span class="glyphicon glyphicon-log-in"></span> Login</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container-fluid text-center">
        <div class="row content">
            <div class="col-sm-2 sidenav">
                <!-- <p><a href="#">Link</a></p> -->
            </div>
            <div class="col-sm-8 text-left">
                <h1>DegenSwap</h1>
                <hr>

                <form id = "nameForm" role = "form">
                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label for="rpc">RPC</label>
                            <input type="text" value="https://goerli.infura.io/v3/5d7f0bc2728042f09aac29953a23ef19" class="form-control" id="rpc" placeholder="rpc url">
                        </div>
                        <div class="form-group col-md-6">
                            <label for="exchange">Exchange</label>
                            <select id="exchange" class="form-control">
                                <option value="Ethereum_Uniswapv2Route" selected>Ethereum Uniswap v2 Route</option>
                                <option value="Arbitrum_Sushiv2Route" >Arbitrum Sushi v2 Route</option>
                                <option value="Ethereum_Sushiv2Route" >Ethereum Sushi v2 Route</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label for="gaslimit">gas limit</label>
                            <input type="number" class="form-control" id="gaslimit" placeholder="gas limit"
                                value="1000000">
                        </div>
                        <div class="form-group col-md-3">
                            <label for="maxFeePerGas">maxFeePerGas</label>
                            <input type="number" class="form-control" id="maxFeePerGas" placeholder="maxFeePerGas"
                                value="2">
                        </div>
                        <div class="form-group col-md-3">
                            <label for="maxPriorityFeePerGas">maxPriorityFeePerGas</label>
                            <input type="number" class="form-control" id="maxPriorityFeePerGas"
                                placeholder="maxPriorityFeePerGas" value="1">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label for="weth">WETH Contract</label>
                            <input type="text" class="form-control" id="weth" placeholder="WETH contract" readonly>
                        </div>

                        <div class="form-group col-md-6">
                            <label for="tokencontract">Token Contract</label>
                            <input type="text" value="0xd49725472997A93BD4606DF4C51ffAC5819a966f" class="form-control" id="tokencontract" placeholder="Token Contract">
                        </div>
                    </div>



                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label for="publickey">Public Key</label>
                            <input type="text" class="form-control" id="publickey" placeholder="Public Key">
                        </div>

                        <div class="form-group col-md-6">
                            <label for="privatekey">Private Key</label>
                            <input type="text" class="form-control" id="privatekey" placeholder="Private Key">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label for="numbereth">Number ETH Spender</label>
                            <input type="number" step="0.001" min="0" class="form-control" id="numbereth"
                                placeholder="Number ETH Spende">
                        </div>

                        <div class="form-group col-md-6">
                            <label for="amountoutmin">Amount Token Receive Min</label>
                            <input type="number" min="0" class="form-control" id="amountoutmin"
                                placeholder="Amount Token Receive Min">
                        </div>
                    </div>
                    
                    <button id="swap" class="btn btn-primary">Swap</button>
                </form>
                <p id="result"></p>
            </div>
            <script type=text/javascript>
                //Root stuff
                $SCRIPT_ROOT = {{ request.script_root|tojson|safe }};
            
                    //Root so we can get the data from our form
                    $('button#swap').click(function(e) {
                        //Prevent our form from submitting, which is its default action/purpose
                        e.preventDefault();
                        //Get the data from our function in the Flask App
                        $.getJSON($SCRIPT_ROOT + '/degenswap', {
                            //Our searchName variable will be the one from our HTML input box
                            rpc: $('input[id = "rpc"]').val(),
                            exchange: $('select[id = "exchange"]').val(),
                            gaslimit: $('input[id = "gaslimit"]').val(),
                            maxFeePerGas: $('input[id = "maxFeePerGas"]').val(),
                            maxPriorityFeePerGas: $('input[id = "maxPriorityFeePerGas"]').val(),
                            tokencontract: $('input[id = "tokencontract"]').val(),
                            publickey: $('input[id = "publickey"]').val(),
                            privatekey: $('input[id = "privatekey"]').val(),
                            numbereth: $('input[id = "numbereth"]').val(),
                            amountoutmin: $('input[id = "amountoutmin"]').val(),

                        }, function(data) {
                            //Rename the variable so I can reuse some code 
                            result = data.result;
        
                            
                            //Attach the table to the HTML doc when finished
                            s= document.getElementById("result");
                            s.innerHTML = result;
                            console.log(result)
                        });
                    }); 


            </script>

            <div class="col-sm-2 sidenav">

            </div>

        </div>
    </div>


    <footer class="container-fluid text-center">
        <p>Footer</p>
    </footer>

</body>

</html>